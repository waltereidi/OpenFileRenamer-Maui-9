@namespace Presentation.Maui.Components.Pages
@inject NavigationManager Navigation
@using Presentation.Maui.Components.Shared
@using Presentation.Maui.DTO
@using Presentation.Maui.Service
@using Presentation.Maui.ValueObjects
@page "/DataSelection"

<FileFilter OnChangeCallBack="DataFilterChanged" />

<DataTableModelSelection DataTableFiles="TableSelection" />

<button 
    class="btn btn-sm btn-primary"
    @onclick="PreviewSelectedFiles">Preview Selected Files
</button>

@code{
    private TableSelectionDTO TableSelection { get; set; }
        = new TableSelectionDTO(DirectoryManagerService._dir, null );



    private void DataFilterChanged(DataFilterDTO e)
    { 
        TableSelection.SetDataFilter(e);
        TableSelection.SetDir(DirectoryManagerService._dir);
    }

    private void PreviewSelectedFiles(MouseEventArgs args)
    {
        var e = TableSelection.Rows.Where(x => x.IsChecked);
    }
}